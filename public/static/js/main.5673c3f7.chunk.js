(this["webpackJsonpinterview-scheduler"]=this["webpackJsonpinterview-scheduler"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(1),i=n.n(s),r=n(25),a=n.n(r),l=(n(46),n(47),n(14)),o=n(15),d=n(18),j=n(17),h=n(40),b=n(85),u=n(86),O=n(87),m=n(13);function x(){var e=Object(s.useState)(!1),t=Object(h.a)(e,2);t[0],t[1];return Object(c.jsxs)(b.a,{dark:!0,expand:"md header",children:[Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(u.a,{children:Object(c.jsx)(O.a,{children:Object(c.jsx)(m.b,{className:"nav-link",to:"/",children:Object(c.jsx)("h2",{children:"Inteview Scheduler"})})})})}),Object(c.jsx)("div",{className:"col-6",style:{display:"flex",justifyContent:"flex-end"},children:Object(c.jsxs)(u.a,{navbar:!0,children:[Object(c.jsx)(O.a,{children:Object(c.jsxs)(m.b,{className:"nav-link",to:"/scheduler",children:[Object(c.jsx)("span",{className:"fa fa-info fa-lg"}),"Scheduler"]})}),Object(c.jsx)(O.a,{children:Object(c.jsxs)(m.b,{className:"nav-link",to:"/interviews",children:[Object(c.jsx)("span",{className:"fa fa-list fa-lg"}),"Interviews"]})})]})})]})}var f=n(19),p="http://localhost:3000/",v=n(33),g=n.n(v),w=[],T=[],C=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).handleChangeSelect=function(e){var t=w.indexOf(e);-1===t?w.push(e):w.splice(t,1),console.log(w.length)},c.handleChangeInterviewer=function(e){var t=T.indexOf(e);-1===t?T.push(e):T.splice(t,1)},c.handleSubmit=function(){if(w.length<2)alert("Please select atleast 2 candidates.");else if(c.state.startTime>c.state.endTime)alert("Please select appropriate time values.");else{var e={startTime:c.state.startTime,endTime:c.state.endTime,selectedCandidates:w,selectedInterviewers:T};""!==c.state.currentId&&"undefined"!=c.state.currentId&&(e.id=c.state.currentId);var t=""===c.state.currentId?"":c.state.currentId;console.log(e),fetch(p+"interviews/"+t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return console.log(e),alert("Interview schduled!"),e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).catch((function(e){console.log("Submit interview details ",e.message),alert("Interview could not be scheduled due to clash \n"+e.message)}))}},c.fetchCandidateList=function(){fetch(p+"users",{headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){c.setState({users:e.users})})).catch((function(e){console.log("Get Candidates ",e.message),alert("Candidates could not be fetched \nError: "+e.message)}))},c.state={users:[{name:"Loading...",email:"Loading..."}],startTime:new Date,endTime:"",currentId:"",nope:!1},c.fetchCandidateList=c.fetchCandidateList.bind(Object(f.a)(c)),c.handleChangeSelect=c.handleChangeSelect.bind(Object(f.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(f.a)(c)),c}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=window.location.href.substr(32);""!==e&&this.setState({currentId:e}),this.fetchCandidateList()}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"row m-auto ml-0",style:{paddingTop:10},children:[Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("h4",{className:"text-center",children:"SCHEDULE INTERVIEW"}),Object(c.jsxs)("table",{className:"table table-sm table-dark",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Name"}),Object(c.jsx)("th",{scope:"col",children:"Email"}),Object(c.jsx)("th",{scope:"col",children:"Interviewer"}),Object(c.jsx)("th",{scope:"col",children:"Select"})]})}),Object(c.jsx)("tbody",{children:this.state.users.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{children:t.email}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{type:"checkbox",onClick:function(){return e.handleChangeInterviewer(t._id)}})}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{type:"checkbox",onClick:function(){return e.handleChangeSelect(t._id)}})})]},t.email)}))})]})]}),Object(c.jsx)("div",{className:"col-sm-5 col-4"}),Object(c.jsxs)("div",{className:"col-12 col-sm-2 center columnWise",children:[Object(c.jsx)("h4",{children:"SELECT TIME: "}),Object(c.jsx)("p",{children:"From : "}),Object(c.jsx)(g.a,{disableClock:!1,value:this.state.startTime,minDate:""===this.state.startTime?new Date:this.state.startTime,hourPlaceholder:"Hour",minutePlaceholder:"Min",onChange:function(t){e.setState({startTime:t})}}),Object(c.jsx)("p",{children:"To : "}),Object(c.jsx)(g.a,{disableClock:!1,hourPlaceholder:"Hour",minutePlaceholder:"Min",minDate:this.state.startTime,value:this.state.endTime,onChange:function(t){e.setState({endTime:t})}})]}),Object(c.jsx)("div",{className:"col-6"}),Object(c.jsx)("div",{className:"col-12",style:{display:"flex",justifyContent:"center",paddingTop:30},children:Object(c.jsx)("div",{className:"btn btn-primary center",style:{borderRadius:35},onClick:function(){return e.handleSubmit()},children:"Submit"})})]})}}]),n}(s.Component),S=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).state={interviews:[{startTime:"Loading...",endTime:"Loading",interviewer:["Loading..."],interviewee:["Loading..."]}]},c}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.location),fetch(p+"interviews",{headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){e.setState({interviews:t.interviews}),console.log(t.interviews)})).catch((function(e){console.log("Get Interviews ",e.message),alert("Interviews could not be fetched \n"+e.message)}))}},{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{className:"text-center",children:"Upcoming interviews"}),Object(c.jsxs)("table",{className:"table table-sm table-dark",style:{color:"white"},children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Start Time"}),Object(c.jsx)("th",{scope:"col",children:"End Time"}),Object(c.jsx)("th",{scope:"col",children:"Interviewers"}),Object(c.jsx)("th",{scope:"col",children:"Interviewees"}),Object(c.jsx)("th",{scope:"col",children:"Click to edit"})]})}),Object(c.jsx)("tbody",{children:this.state.interviews.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:new Date(e.startTime).toUTCString()}),Object(c.jsx)("td",{children:new Date(e.endTime).toUTCString()}),Object(c.jsx)("td",{children:e.interviewer.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsxs)("p",{children:[" ",e.name]}),Object(c.jsx)("ul",{children:Object(c.jsx)("li",{children:Object(c.jsx)("p",{children:e.email})})})]})}))}),Object(c.jsx)("td",{children:e.interviewee.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)("p",{children:e.name}),Object(c.jsx)("ul",{children:Object(c.jsx)("li",{children:Object(c.jsx)("p",{children:e.email})})})]})}))}),Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:"/scheduler/"+e._id,children:Object(c.jsx)("button",{className:"btn btn-primary",children:"Edit"})})})]})}))})]})]})}}]),n}(s.Component),y=n(5),k=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x,{}),Object(c.jsxs)(y.d,{location:this.props.location,children:[Object(c.jsx)(y.b,{path:"/scheduler",component:C}),Object(c.jsx)(y.b,{path:"/interviews",component:S}),Object(c.jsx)(y.a,{to:"/scheduler"})]})]})}}]),n}(s.Component),I=Object(y.g)(k);n(80);var N=function(){return Object(c.jsx)(m.a,{children:Object(c.jsx)("div",{children:Object(c.jsx)(I,{})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),i(e),r(e)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root")),E()}},[[82,1,2]]]);
//# sourceMappingURL=main.5673c3f7.chunk.js.map